# SonarCloud configuration for floe-runtime
# https://sonarcloud.io/project/configuration?id=Obsidian-Owl_floe-runtime

sonar.projectKey=Obsidian-Owl_floe-runtime
sonar.organization=obsidian-owl

# Project metadata
sonar.projectName=floe-runtime
sonar.projectVersion=0.1.0

# Source code location - only production code (packages/*/src/)
sonar.sources=packages/*/src/

# Test code location - all test files and directories
sonar.tests=packages/*/tests/,tests/,testing/

# Python-specific settings
sonar.python.version=3.10,3.11,3.12
sonar.python.coverage.reportPaths=coverage.xml

# Exclude test files and generated/third-party code from source analysis
# Note: patterns must match actual files, not just directories
sonar.exclusions=**/tests/**/*.py,**/*_test.py,**/test_*.py,testing/**/*.py,testing/**/*.sh,.floe/**/*.*,**/node_modules/**/*.*,**/.venv/**/*.*

# Include test directories for test analysis
sonar.test.inclusions=**/tests/**/*.py,**/*_test.py,**/test_*.py,testing/**/*.py

# Issue exclusions for test-related files
# Security hotspots in test code are expected (test credentials, mock data, etc.)
# Ignore ALL issues in files matching test patterns
sonar.issue.ignore.allfile=e1,e2,e3,e4
sonar.issue.ignore.allfile.e1.fileRegexp=.*test_.*\\.py$
sonar.issue.ignore.allfile.e2.fileRegexp=.*_test\\.py$
sonar.issue.ignore.allfile.e3.fileRegexp=.*/tests/.*\\.py$
sonar.issue.ignore.allfile.e4.fileRegexp=.*/testing/.*\\.(py|sh)$

# Encoding
sonar.sourceEncoding=UTF-8
