# Trino Iceberg Connector Configuration
# Connects to Apache Polaris REST catalog with LocalStack S3 storage
#
# Documentation: https://trino.io/docs/current/connector/iceberg.html

connector.name=iceberg

# Catalog type: REST (Polaris)
iceberg.catalog.type=rest
iceberg.rest-catalog.uri=http://polaris:8181/api/catalog
iceberg.rest-catalog.warehouse=warehouse

# OAuth2 authentication for Polaris
# Credentials are dynamically generated by polaris-init - these are defaults for testing
# In production, use environment variables or secrets management
iceberg.rest-catalog.security=OAUTH2
iceberg.rest-catalog.oauth2.token=http://polaris:8181/api/catalog/v1/oauth/tokens

# Enable vended credentials from Polaris
# Polaris will vend temporary credentials via LocalStack STS
iceberg.rest-catalog.vended-credentials-enabled=true

# S3 file system configuration for LocalStack
fs.native-s3.enabled=true
s3.endpoint=http://localstack:4566
s3.path-style-access=true
s3.region=us-east-1

# Performance tuning
iceberg.max-partitions-per-writer=100
iceberg.target-max-file-size=128MB
