# Floe Demo Sources
#
# Defines Iceberg sources for the demo project.
# Data is generated by floe-synthetic and stored in Iceberg tables via Polaris.
#
# Covers: 007-FR-029 (E2E validation tests)

version: 2

sources:
  - name: raw
    description: "Raw synthetic e-commerce data from floe-synthetic"
    database: "{{ env_var('FLOE_DEMO_CATALOG', 'floe_demo') }}"
    schema: "{{ env_var('FLOE_DEMO_SCHEMA', 'raw') }}"
    tables:
      - name: customers
        description: "Synthetic customer data"
        columns:
          - name: customer_id
            description: "Unique customer identifier"
          - name: email
            description: "Customer email address"
          - name: name
            description: "Customer full name"
          - name: created_at
            description: "Account creation timestamp"

      - name: orders
        description: "Synthetic order data"
        columns:
          - name: order_id
            description: "Unique order identifier"
          - name: customer_id
            description: "Reference to customer"
          - name: order_date
            description: "Order placement date"
          - name: status
            description: "Order status (pending, shipped, delivered, cancelled)"
          - name: total_amount
            description: "Total order value"

      - name: order_items
        description: "Line items for each order"
        columns:
          - name: order_item_id
            description: "Unique line item identifier"
          - name: order_id
            description: "Reference to order"
          - name: product_id
            description: "Reference to product"
          - name: quantity
            description: "Quantity ordered"
          - name: unit_price
            description: "Price per unit at time of order"

      - name: products
        description: "Product catalog"
        columns:
          - name: product_id
            description: "Unique product identifier"
          - name: name
            description: "Product name"
          - name: category
            description: "Product category"
          - name: price
            description: "Current product price"
